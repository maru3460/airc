# aiエージェントの設定管理ツールを作ってみた

- 人によってinstructionsやClAUDE.mdの内容を変えたいからgitで管理したくない
- 人の設定やspec-kitやcc-sdd等を使ってみたいが現在のファイルと混ぜたくない
- instructionsを試行錯誤したいが、ファイルを避難させたりするのがめんどくさい

上記のような悩みを解消するツールを作ってみたのでその紹介です！

## 簡単な使い方

現状の.github/instructions/やCLAUDE.mdを一旦避難させてcc-sddを導入する例です

1. 最初に初期化します。これによって`.airc`ディレクトリが作成されます。
  また、現在のファイルがプロファイル`main`として登録されます。

```shell
airc init 
```

2. cc-sdd用のプロファイルを作成します

```shell
airc new cc-sdd
```

3. プロファイルを切り替えてcc-sddを導入します

```shell
airc use cc-sdd
npx cc-sdd@latest --lang ja
```

4. 元に戻したい場合はプロファイルを切り替えます

```shell
airc use main
```

## しくみ

aircは「プロファイル」という単位でAIツールの設定ファイルを管理しています。

### 基本構造

```
.airc/
├── config.json    # 現在のプロファイル名を記録
├── .sync          # 同期対象のファイルパターン（.github/**, CLAUDE.md等）
└── profiles/      # プロファイルストア
    ├── main/      # 初期プロファイル
    └── cc-sdd/    # 作成したプロファイル
```

### 動作の流れ

1. **init**: `.airc/`ディレクトリを作成し、デフォルトの`.sync`のパターンにマッチするファイルを`main`プロファイルとして保存
2. **new**: 新しいプロファイルを作成
3. **use**: 現在のファイルを元プロファイルに保存 → ファイルを削除 → 切り替え先プロファイルを展開

つまり、`airc use`を実行するたびに：
- 現在のワークスペースのファイル → 現プロファイルに保存
- 切り替え先プロファイルのファイル → ワークスペースに展開

これにより、設定ファイルを手動で退避させることなく、複数の設定を切り替えて使えます。
※ 保存と展開は`.sync`のパターンに従って行われます。

## まとめ
npmのパッケージを作ってみたい！という動機で作り始めたツールなのですが、割と使えるものになったという気がしています。
今後実装したいものはissuesに書いてあるので、何かあればそこに書いておいてもらえると嬉しいです。
気が向いたら使ってみてください！

https://github.com/maru3460/airc
