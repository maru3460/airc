# 設定ファイル

aircの設定ファイルについての説明です。

## .sync ファイル

`.airc/.sync` ファイルは、プロファイルと同期するファイルをglobパターンで定義します。

### 基本的な使い方

```bash
# ディレクトリ: そのディレクトリ以下のすべてのファイルを同期
.github/
.claude/
.kiro/

# ファイル: 特定のファイルを同期
CLAUDE.md

# ワイルドカード: パターンマッチング
*.md
.github/**/*.md

# 除外パターン: '!' で始まるパターンは除外
!.github/workflows/
!*.log
```

### .sync 変更時の重要な注意点

`.sync` ファイルを変更しても、既に展開されているファイルは自動的に削除されません。

#### 動作の仕組み

1. **`.sync` の読み込みタイミング**
   - コマンド実行時（`airc use`、`airc clear` など）に毎回読み込まれる
   - 変更は次回コマンド実行時から反映される

2. **既存ファイルへの影響**
   ```bash
   # 例: .github/ をパターンから削除した場合

   # 1. 初期状態
   .sync: .github/
   # → .github/ ディレクトリが展開されている

   # 2. .sync を編集
   .sync: .claude/  # .github/ を削除

   # 3. この時点では .github/ は残っている！
   ls .github/  # まだ存在する

   # 4. airc clear で削除が必要
   airc clear   # 新しいパターンに基づいて削除
   ls .github/  # ディレクトリは残るがファイルは削除される
   ```

3. **プロファイル切り替え時の挙動**
   - `airc use` 実行時に現在の `.sync` パターンで保存される
   - パターンから除外されたファイルは保存されない
   - 次回そのプロファイルに切り替えても、除外されたファイルは復元されない

#### 推奨ワークフロー

`.sync` パターンを変更した場合は、以下の手順で同期を取り直してください：

```bash
# 1. 現在のファイルを保存（オプション）
airc use [current-profile]

# 2. .sync を編集
vi .airc/.sync

# 3. 不要なファイルを削除
airc clear

# 4. プロファイルを再展開（必要に応じて）
airc use [profile-name]
```

## config.json ファイル

`.airc/config.json`ファイルはaircの内部設定を保持するファイルです。

このファイルをユーザーが手動で変更した際の動作の保証はしません。
